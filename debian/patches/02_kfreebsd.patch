diff --git a/usb-bsd.c b/usb-bsd.c
index 48567a3..a761b61 100644
--- a/usb-bsd.c
+++ b/usb-bsd.c
@@ -35,7 +35,7 @@
 
 #include <sys/ioctl.h>
 #ifndef __DragonFly__
-#include <dev/usb/usb.h>
+#include <legacy/dev/usb/usb.h>
 #else
 #include <bus/usb/usb.h>
 #endif
--- qemu-0.14.0+dfsg.orig/configure
+++ qemu-0.14.0+dfsg/configure
@@ -1981,6 +1981,14 @@ cat > $TMPC << EOF
 #include <stddef.h>
 #include <fcntl.h>
 
+#if defined __stub_futimens || defined __stub___futimens
+choke me
+#endif
+
+#if defined __stub_utimensat || defined __stub___utimensat
+choke me
+#endif
+
 int main(void)
 {
     utimensat(AT_FDCWD, "foo", NULL, 0);
